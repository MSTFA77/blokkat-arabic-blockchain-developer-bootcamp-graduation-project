(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1057:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var a=s(5155),n=s(2115),l=s(7173),r=s(3087),o=s(9044),i=s(5799);s(5716);let c="0xb0e53957BCC04aeD42C69755070B5AfD187d53DA",d=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"getETHAmountFor50USD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"withdraw50USDInETH",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}];function u(){let[e,t]=(0,n.useState)(null),[s,u]=(0,n.useState)("0"),[h,m]=(0,n.useState)(!1),[w,x]=(0,n.useState)("0"),[g,b]=(0,n.useState)("0.03"),[y,p]=(0,n.useState)(!1),[f,j]=(0,n.useState)(!1),N=async()=>{try{if(!window.ethereum)return void i.oR.warn("Please install MetaMask!");let e=await window.ethereum.request({method:"eth_accounts"});if(0!==e.length){let s=e[0];t(s),C(s)}else console.log("No authorized account found")}catch(e){console.error(e)}},v=async()=>{try{if(!window.ethereum)return void i.oR.warn("Please install MetaMask!");let e=await window.ethereum.request({method:"eth_requestAccounts"});t(e[0]),C(e[0])}catch(e){console.error(e)}},C=async e=>{let t=new l.j(window.ethereum),s=new r.NZ(c,d,t);m((await s.owner()).toLowerCase()===e.toLowerCase())},E=async()=>{let e=new l.j(window.ethereum),t=new r.NZ(c,d,e),s=await t.getETHAmountFor50USD();u(o.ck(s))},S=async()=>{let e=new l.j(window.ethereum),t=await e.getBalance(c);x(o.ck(t))},k=async()=>{try{p(!0);let e=new l.j(window.ethereum).getSigner(),t=await e.sendTransaction({to:c,value:o.g5(g)});await t.wait(),i.oR.success("ETH deposited successfully!"),S()}catch(e){i.oR.error("Error while depositing"),console.error(e)}finally{p(!1)}},D=async()=>{try{p(!0);let e=new l.j(window.ethereum).getSigner(),t=new r.NZ(c,d,e),s=await t.withdraw50USDInETH();await s.wait(),i.oR.success("Withdrawal successful!"),S()}catch(e){i.oR.error("Error while withdrawing"),console.error(e)}finally{p(!1)}};return(0,n.useEffect)(()=>{N(),E(),S(),window.ethereum&&window.ethereum.on("accountsChanged",e=>{0===e.length?(t(null),m(!1)):(t(e[0]),C(e[0]))}),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&j(!0)},[]),(0,a.jsxs)("div",{className:"min-h-screen transition-colors duration-300 ".concat(f?"bg-gray-900 text-white":"bg-gradient-to-b from-blue-50 to-white text-gray-800"),children:[(0,a.jsx)(i.N9,{position:"top-right",autoClose:5e3}),(0,a.jsx)("header",{className:"".concat(f?"bg-gray-800":"bg-white"," shadow-sm"),children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8 flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-blue-500",children:"USD Withdrawer"}),(0,a.jsx)("button",{onClick:()=>j(!f),className:"p-2 rounded-full ".concat(f?"bg-gray-700 text-yellow-300":"bg-gray-200 text-gray-700"),children:f?"☀️":"\uD83C\uDF19"})]}),e?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("span",{className:"text-sm ".concat(f?"bg-gray-700":"bg-blue-100"," px-3 py-1 rounded-full"),children:[e.slice(0,6),"...",e.slice(-4)]}),(0,a.jsx)("button",{onClick:()=>t(null),className:"px-3 py-1 bg-red-500 text-white rounded-md text-sm hover:bg-red-600 transition-colors",children:"Disconnect"})]}):(0,a.jsx)("button",{onClick:v,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Connect Wallet"})]})}),(0,a.jsxs)("main",{className:"max-w-4xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"rounded-xl shadow-md overflow-hidden p-6 mb-8 ".concat(f?"bg-gray-800":"bg-white"),children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Contract Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"p-4 rounded-lg ".concat(f?"bg-gray-700":"bg-gray-50"),children:[(0,a.jsx)("p",{className:"text-sm ".concat(f?"text-gray-300":"text-gray-500"),children:"Contract Balance"}),(0,a.jsxs)("p",{className:"text-lg font-medium",children:[w," ETH"]})]}),(0,a.jsxs)("div",{className:"p-4 rounded-lg ".concat(f?"bg-gray-700":"bg-gray-50"),children:[(0,a.jsx)("p",{className:"text-sm ".concat(f?"text-gray-300":"text-gray-500"),children:"50 USD in ETH"}),(0,a.jsxs)("p",{className:"text-lg font-medium",children:[s," ETH"]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"rounded-xl shadow-md overflow-hidden p-6 ".concat(f?"bg-gray-800":"bg-white"),children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Deposit ETH"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"deposit",className:"block text-sm font-medium mb-1 ".concat(f?"text-gray-300":"text-gray-700"),children:"Amount (ETH)"}),(0,a.jsx)("input",{type:"number",id:"deposit",value:g,onChange:e=>b(e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 ".concat(f?"bg-gray-700 border-gray-600 focus:ring-blue-500":"border-gray-300 focus:ring-blue-500"),step:"0.001",min:"0.001"})]}),(0,a.jsx)("button",{onClick:k,disabled:!e||y,className:"w-full py-2 px-4 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:y?"Processing...":"Deposit"})]})]}),h&&(0,a.jsxs)("div",{className:"rounded-xl shadow-md overflow-hidden p-6 ".concat(f?"bg-gray-800":"bg-white"),children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Withdraw 50 USD"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-sm ".concat(f?"text-gray-300":"text-gray-600"),children:"You can withdraw the equivalent of 50 USD in ETH (Owner only)"}),(0,a.jsx)("button",{onClick:D,disabled:y,className:"w-full py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:y?"Processing...":"Withdraw"})]})]})]}),h&&(0,a.jsx)("div",{className:"mt-6 p-4 rounded border-l-4 ".concat(f?"bg-yellow-900 border-yellow-500":"bg-yellow-50 border-yellow-400"),children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("svg",{className:"h-5 w-5 text-yellow-500",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,a.jsx)("div",{className:"ml-3",children:(0,a.jsx)("p",{className:"text-sm ".concat(f?"text-yellow-200":"text-yellow-700"),children:"You are the owner of this contract. You can withdraw funds whenever you want."})})]})})]})]})}},7790:()=>{},8056:(e,t,s)=>{Promise.resolve().then(s.bind(s,1057))}},e=>{var t=t=>e(e.s=t);e.O(0,[797,353,441,684,358],()=>t(8056)),_N_E=e.O()}]);